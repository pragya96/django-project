{% extends 'base.html' %}
{% load static %}

{% block title %}Products List{% endblock %}

{% block content %}
  <div class="container">
    <br>
    <div class="row">
        <div class="col-sm-12">
            <button id="import-product-button" class="btn btn-primary" type="button" name="button">Import Products</button>
            <button id="create-store-button" class="btn btn-primary" type="button" name="button">Create Store</button>
            <button id="create-category-button" class="btn btn-primary" type="button" name="button">Create Category</button>
        </div>
    </div>
    <br>
    <div class="row">
      <div class="col-sm-12">
        <table id="datatable" class="table table-striped table-bordered" style="width:100%" data-server-side="true">
          <thead>
            <tr>
              <th data-data="id">#</th>
              <th data-data="name">Name</th>
              <th data-data="quantity">Quantity</th>
              <th data-data="price">Price</th>
              <th data-data="description">Description</th>
              <th data-data="category">Category</th>
              <th data-data="store">Store</th>
              <th data-data="availability">Availability</th>
            </tr>
          </thead>
        </table>
      </div>
    </div>
  </div>


  <div class="modal fade" id="import_product" role="dialog">
      <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
              <div class="modal-header">
                  <h3 class="modal-title">New Product</h3>
              </div>
              <div class="modal-body">
                    <form method="post" id="import-product-form" enctype="multipart/form-data">
                        <input type="file" name="myfile" id="product-file">
                        <button type="submit">Upload</button>
                    </form>
              </div>
          </div>
      </div>
  </div>

  <div class="modal fade" id="store_create" role="dialog">
      <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
              <div class="modal-header">
                  <h3 class="modal-title">New Store</h3>
              </div>
              <div class="modal-body">
                    <form method="post" id="store_create_form" enctype="multipart/form-data">
                        <input type="text" name="name" id="store-name">
                        <button type="submit">Save</button>
                    </form>
              </div>
          </div>
      </div>
  </div>

  <div class="modal fade" id="category_create" role="dialog">
      <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
              <div class="modal-header">
                  <h3 class="modal-title">New Category</h3>
              </div>
              <div class="modal-body">
                    <form method="post" id="category_create_form" enctype="multipart/form-data">
                        <input type="text" name="name" id="category-name">
                        <button type="submit">Save</button>
                    </form>
              </div>
          </div>
      </div>
  </div>
{% endblock %}

{% block script %}
<script>
  var product_form_url = "{% url 'commercial:ajax-product-post' 0 %}";
  var product_create_url = "{% url 'commercial:product-create' %}";
  var product_import_url = "{% url 'commercial:product-import' %}";
  var store_create_url = "{% url 'commercial:store-create' %}";
  var category_create_url = "{% url 'commercial:category-create' %}";
  var csrf_token = "{{ csrf_token }}";
  var availability = "{{ availability|escapejs }}";
  var stores = "{{ stores|escapejs }}";
  var categories = "{{ categories|escapejs }}";
</script>
<script src='{% static "js/home.js" %}?v=1.0'></script>
{% endblock %}